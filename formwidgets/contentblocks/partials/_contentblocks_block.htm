<div class="contentblocks-block"
    id="<?= $widget->getId('block') ?>">
    <div class="<?= $this->getId('handle') ?> contentblocks-handle">
        <?= $widget->config->blockDetails['name'] ?>
        <a href="#"
            class="close contentblocks-remove"
            data-request="<?= $this->getEventHandler('onRemoveBlock') ?>"
            data-request-confirm="Are you sure you want to remove this block?"
            data-request-success="$('#<?= $this->getId() ?>').contentblocks('removeBlock', '#<?= $widget->getId('block') ?>')">
            &times;
        </a>
    </div>

    <div
        class="contentblocks-form"
        data-control="formwidget"
        data-refresh-handler="<?= $this->getEventHandler('onRefresh') ?>">
        <?php foreach ($widget->getFields() as $field): ?>
            <?= $widget->renderField($field) ?>
            <input type="hidden"
                name="<?= $widget->arrayName ?>[type]"
                value="<?= $widget->config->blockType ?>">
        <?php endforeach ?>
    </div>
</div>